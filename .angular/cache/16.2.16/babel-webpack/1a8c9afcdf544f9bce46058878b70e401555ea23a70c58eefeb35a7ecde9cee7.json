{"ast":null,"code":"import { HttpEvent, HttpHandler, HttpRequest, HttpResponse } from '@angular/common/http';\nimport { Observable, of } from 'rxjs';\nimport { delay, mergeMap } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nconst MOCK = {\n  courses: [{\n    id: 'c1',\n    title: 'Intro to Angular',\n    description: 'Components, modules, routing'\n  }, {\n    id: 'c2',\n    title: 'Advanced TypeScript',\n    description: 'Types, generics, advanced patterns'\n  }],\n  students: [{\n    studentId: 's1',\n    name: 'Alice',\n    score: 85\n  }, {\n    studentId: 's2',\n    name: 'Bob',\n    score: 72\n  }, {\n    studentId: 's3',\n    name: 'Carla',\n    score: 91\n  }],\n  sessions: [{\n    id: 'sess1',\n    courseId: 'c1',\n    title: 'Kickoff',\n    date: new Date().toISOString()\n  }],\n  notifications: [{\n    id: 'n1',\n    message: 'New student joined Intro to Angular',\n    read: false,\n    time: new Date().toISOString()\n  }]\n};\nexport let MockBackendInterceptor = /*#__PURE__*/(() => {\n  class MockBackendInterceptor {\n    intercept(req, next) {\n      // simulate api\n      return of(null).pipe(mergeMap(() => {\n        const {\n          url,\n          method,\n          body\n        } = req;\n        // courses\n        if (url.endsWith('/api/courses') && method === 'GET') {\n          return of(new HttpResponse({\n            status: 200,\n            body: MOCK.courses.slice()\n          }));\n        }\n        if (url.endsWith('/api/courses') && method === 'POST') {\n          const course = {\n            id: 'c' + (MOCK.courses.length + 1),\n            ...body\n          };\n          MOCK.courses.push(course);\n          return of(new HttpResponse({\n            status: 201,\n            body: course\n          }));\n        }\n        // analytics\n        if (url.endsWith('/api/students') && method === 'GET') {\n          return of(new HttpResponse({\n            status: 200,\n            body: MOCK.students.slice()\n          }));\n        }\n        // sessions\n        if (url.endsWith('/api/sessions') && method === 'GET') {\n          return of(new HttpResponse({\n            status: 200,\n            body: MOCK.sessions.slice()\n          }));\n        }\n        if (url.endsWith('/api/sessions') && method === 'POST') {\n          const s = {\n            id: 'sess' + (MOCK.sessions.length + 1),\n            ...body\n          };\n          MOCK.sessions.push(s);\n          return of(new HttpResponse({\n            status: 201,\n            body: s\n          }));\n        }\n        // notifications\n        if (url.endsWith('/api/notifications') && method === 'GET') {\n          return of(new HttpResponse({\n            status: 200,\n            body: MOCK.notifications.slice()\n          }));\n        }\n        // pass through\n        return next.handle(req);\n      })).pipe(delay(300));\n    }\n    static {\n      this.ɵfac = function MockBackendInterceptor_Factory(t) {\n        return new (t || MockBackendInterceptor)();\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: MockBackendInterceptor,\n        factory: MockBackendInterceptor.ɵfac\n      });\n    }\n  }\n  return MockBackendInterceptor;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}